@* Generator : WebPage *@
@{ 
    Page.Title = "Page Not Found";
    var errorPath = Request.QueryString["aspxerrorpath"];

    if(String.IsNullOrEmpty(errorPath)){
        errorPath = Request.RawUrl;
    }
    
    errorPath = Path.GetFileNameWithoutExtension(errorPath);
    Response.StatusCode = 404;
}

<div class="col-md-6 mx-auto error-page">
    <div class="text-center">
        <img width="225" alt="Chocolatey Software" src="@Href("~/content/images/logo_square.svg")" />
        <h1 class="mt-3">Error 404: Page Not Found.</h1>
        <h3>You might be here because:</h3>
    </div>
    <div class="row">
        <div class="col-xl-10 mx-auto">
            <ul>
                <li>The page you are looking for does not exist anymore.</li>
                <li>We moved the page that you are looking for, sorry!</li>
                <li>You know how to hack URLs and you're trying to find something.</li>
                <li>We just plain suck and messed something up.</li>
            </ul>
        </div>
    </div>
    <h3 class="text-center mt-4 mb-3">Try Searching Again</h3>
    <div class="align-items-center justify-content-center text-center d-xl-flex d-block">
        <form class="form-inline justify-content-center" role="search" action="@Href("~/packages")" onsubmit="return submitQuery()">
            <div class="input-group w-100">
                <input id="searchBoxInput" class="form-control" name="q" type="text" title="Search" placeholder="Search" value="@errorPath">
                <div class="input-group-append">
                    <button class="input-group-text bg-primary" type="submit" title="Search" value="">
                        <span class="fas fa-search" alt="Search"></span>
                    </button>
                </div>
            </div>
        </form>
        <a href="@Href("~/")" class="btn btn-secondary mt-2 mt-xl-0 ml-xl-3"><i class="fas fa-arrow-left" alt="Home"></i> Go Back Home</a>
    </div>
    <p class="mb-0 mt-2 text-center"><small><strong>Still nothing? </strong>File a bug in <a href="https://github.com/chocolatey/chocolatey.org/issues">the Chocolatey Gallery issue tracker</a> so we can fix it.</small></p>
</div>

<script type="text/javascript">
    function submitQuery() {
        window.location =  "@Href("~/packages")?q="
        + encodeURIComponent($("#searchBoxInput").val());
        return false;
    }
</script>